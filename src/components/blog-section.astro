---
import type { Blog } from "../lib/api";

interface Props {
  blogs: Blog[];
}

const { blogs } = Astro.props;
---

<section id="blogs" class="max-w-[var(--container-width)] mx-auto px-6 py-32">
    <div class="mb-20 flex items-end justify-between">
        <h2
            class="font-display text-[var(--text-h1)] leading-none text-[var(--ink)] tracking-tight"
            data-animate="section"
        >
            Writing
        </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-16">
        {
            blogs.map((blog) => (
                <article class="group cursor-pointer" data-animate="section">
                    <a href={`/blog/${blog.slug}`} class="block space-y-4">
                        {blog.cover_image && (
                            <div class="aspect-[16/9] overflow-hidden rounded-lg bg-[var(--surface)]">
                                <img
                                    src={blog.cover_image}
                                    alt={blog.title}
                                    class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                                />
                            </div>
                        )}
                        <div class="space-y-2">
                            <div class="flex items-center gap-3 text-sm font-mono text-[var(--ink-muted)]">
                                <time datetime={blog.date}>
                                    {new Date(blog.date).toLocaleDateString(
                                        "en-US",
                                        {
                                            year: "numeric",
                                            month: "long",
                                            day: "numeric",
                                        },
                                    )}
                                </time>
                                {blog.read_time && (
                                    <span>Â· {blog.read_time} min read</span>
                                )}
                            </div>
                            <h3 class="font-display text-[var(--text-h3)] text-[var(--ink)] group-hover:underline decoration-[var(--ink-muted)] underline-offset-4 transition-all">
                                {blog.title}
                            </h3>
                            {blog.subtitle && (
                                <p class="font-body text-[var(--text-body)] text-[var(--ink-muted)] line-clamp-2">
                                    {blog.subtitle}
                                </p>
                            )}
                        </div>
                    </a>
                </article>
            ))
        }
    </div>
</section>
